<div class="t-comments-box">
  <div class="comment-title">Comments</div>
  <div class="add-comment">
    <img
        class="comment-thumbnail"
        src="../../../assets/img/comment.png"
        alt=""
    />
    <div class="comment-input">
        <input
            class="form-control form-control-sm"
            type="text"
            [(ngModel)]="desc"
            placeholder="Add a comment.."
        />
      <div (click)="addComment()" class="comment-send">+</div>
    </div>
  </div>

    @for (comment of comments; track comment.cID) {
        <div class="comment comment-level-1">
            <img
                class="comment-thumbnail"
                src="../../../assets/img/comment.png"
                alt=""
            />
            <div>
            <div class="comment-label">
                <span class="comment-name">{{ comment.createdBy }} </span>
                <span class="comment-time">{{
                    comment.createdTime | date : "longDate"
                }}</span>
            </div>
            <div class="comment-content">
                {{ comment.text }}
            </div>
            <div class="comment-action">
                <span> <i class="far fa-heart"></i> Like ({{ comment.likes }})</span>
                <span> <i class="far fa-comment-alt"></i> Comment ({{ comment.childComments?.length }})</span>
            </div>
            </div>
        </div>

        @for (comment2 of comment.childComments; track comment2.cID) {
            <div class="comment comment-level-2">
                <img
                    class="comment-thumbnail"
                    src="../../../assets/img/comment.png"
                    alt=""
                />
                <div>
                <div class="comment-label">
                    <span class="comment-name">{{ comment2.createdBy }} </span>
                    <span class="comment-time">{{
                    comment2.createdTime | date : "longDate"
                    }}</span>
                </div>
                <div class="comment-content">{{ comment2.text }}</div>
                <div class="comment-action">
                    <span> <i class="far fa-heart"></i> Like ({{ comment2.likes }})</span>
                </div>
                </div>
            </div>
        } 
    } @empty {
        <h3>No comments available.</h3>
    }
</div>
